10 GOSUB 9000
20 GOSUB 100
30 LV = 1: GOSUB 1000
40 PRINT @0, 21; "# $ % & ' ( )"
90 GOTO 10000
100 REM ===== LOAD CHARACTERS ============
110 FOR J = 35 TO 41
120 FOR I = 0 TO 7
130 READ Z: POKE 46080 + J*8 + I, Z
140 NEXT I: NEXT J
150 RETURN
200 DATA 0, 63, 16, 63, 2, 63, 16, 63
210 DATA 21, 42, 21, 42, 21, 42, 21, 42
220 DATA 0, 12, 18, 18, 18, 18, 12, 0
230 DATA 0, 45, 63, 12, 18, 18, 12, 0
240 DATA 0, 3, 26, 39, 39, 26, 3, 0
250 DATA 0, 12, 18, 18, 12, 63, 45, 0
260 DATA 0, 48, 22, 57, 57, 22, 48, 0
1000 REM ==== LOAD LEVEL AND DRAW IT ======
1003 READ NL
1005 IF LV = 1 THEN GOTO 1030
1010 FOR L = 1 TO LV - 1
1012 READ SX: READ SY: READ NS
1014 FOR N = 1 TO NS
1016 READ L$: NEXT N, L
1030 READ SX: READ SY: READ NS
1035 X = SX: Y = SY: W% = 1
1040 FOR N = 1 TO NS
1050 READ L$
1060 LE = LEN(L$)
1070 FOR P = 1 TO LE
1080 C$ = MID$(L$,P,1): AC = ASC(C$)
1090 IF AC = 78 THEN X = SX: Y = Y + 1: W% = 1: GOTO 1190
1100 IF C$ = "X" THEN PRINT @X,Y;"%": X = X + 1: W% = 0: GOTO 1190
1110 IF C$ = "P" THEN PRINT @X,Y;"$": X = X + 1: W% = 0: GOTO 1190
1120 IF C$ = "B" THEN BX = X: BY = Y: X = X + 1: W% = 0: GOTO 1190
1170 NU = VAL(C$): CH$ = " ": IF W% = 1 THEN CH$ = "#"
1080 IF NU > 0 THEN FOR T = 1 TO NU: PRINT @X,Y; CH$: X = X + 1: NEXT T
1090 W% = 1 - W%
1190 NEXT P
1200 NEXT N
1210 PRINT @BX,BY;"&"
1990 RETURN
2000 REM ======== LEVELS DATA ==========
2002 DATA 1
2005 REM START_X, START_Y, BAGER_X, BAGER_Y, STRINGS IN LEVEL
2010 DATA 12, 7, 1
2020 DATA "035N03131N0311PP04N0312P1P11N0311P0131N422P16N1B425XX01N2902XX01N019021XX01N09016"
2030 DATA 15, 9, 1
2040 DATA "902N1XX015B01N1XX011P1P12N15P12N1211P12N12122N142N6"
2100 REM DATA "0N90909"
9000 REM ====== ORIC INITIALIZATION ====
9010 CLS
9020 POKE #26A,#A
9100 RETURN
10000 REM ======= GAME MAIN LOOP =============
10010 DX = 0: DY = -1: DI = 1: FI$ = "&'()": F$ = MID$(FI$, DI+1, 1)
10020 PRINT @BX,BY;F$
10100 K$ = KEY$
10110 IF LEN(K$) = 0 THEN WAIT 10: GOTO 10100
10120 AC = ASC(K$)
10200 IF AC = 44 THEN DX = -1: DY = 0: DI = 3
10210 IF AC = 46 THEN DX = 1: DY = 0: DI = 1
10220 IF AC = 97 THEN DX = 0: DY = -1: DI = 0
10220 IF AC = 122 THEN DX = 0: DY = 1: DI = 2
10300 F$ = MID$(FI$, DI+1, 1): PRINT @BX,BY;F$
10310 WAIT 10
10320 SC = SCRN(BX+DX, BY+DY)
10330 IF SC = 35 THEN GOTO 19900
11000 PRINT @BX,BY;" ": BX = BX + DX: BY = BY + DY: PRINT @BX,BY;F$
19900 REM ==== LOOP BACK ====
19990 GOTO 10100
20000 X$ = ""
20010 X$ = KEY$
20020 L = LEN(X$)
20030 A = 0
20040 IF L > 0 THEN A = ASC(X$)
20050 PRINT "KEY:'" + X$ + "' ", L, A
20060 WAIT 20
20070 GOTO 20000
